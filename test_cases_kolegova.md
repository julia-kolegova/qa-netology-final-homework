

### TC-001 — Пересчёт комиссии при изменении суммы после успешного перевода

**Цель:**
Убедиться, что комиссия автоматически пересчитывается при изменении суммы после первого перевода.

**Предусловия:**
Открыта страница перевода. Выбран рублёвый счёт. Выполнен успешный перевод на 5 000 ₽.

**Тестовые данные:**

* Номер карты: `5559 0000 0000 0000`
* Сумма 1: `5 000 ₽`
* Сумма 2: `1 000 ₽`

**Шаги:**

1. Ввести номер карты.
2. Ввести сумму **5 000 ₽**.
3. Нажать кнопку **«Перевести»**.
4. Изменить сумму на **1 000 ₽**, не обновляя страницу.
5. Посмотреть на значение поля «Комиссия».

**Ожидаемый результат:**
Комиссия автоматически пересчитывается под новую сумму: `100 ₽`.

---

### TC-002 — Проверка суммы в сообщении об успешном переводе

**Цель:**
Проверить, что сообщение об успешном переводе отображает актуальную сумму и комиссию.

**Предусловия:**
Открыта страница, выбран рублёвый счёт. Введена валидная карта и сумма.

**Тестовые данные:**

* Номер карты: `4111 1111 1111 1111`
* Сумма: `1 000 ₽`

**Шаги:**

1. Ввести номер карты.
2. Ввести сумму перевода **1 000 ₽**.
3. Нажать кнопку **«Перевести»**.
4. Обратить внимание на сообщение об успешном переводе.

**Ожидаемый результат:**
Текст: `Перевод 1000 ₽ на карту 4111111111111111 принят банком!`.


---

### TC-003 — Валидация превышения баланса с учётом комиссии

**Цель:**
Убедиться, что отображается ошибка при попытке перевода суммы, превышающей доступный баланс.

**Предусловия:**
Выбран долларовый счёт, баланс: `100 $`, резерв: `0 $`.

**Тестовые данные:**

* Номер карты: `4000 1234 5678 9000`
* Сумма: `3 111 $` (комиссия: `310 $`, итог: `3 421 $`)

**Шаги:**

1. Выбрать долларовый счёт.
2. Ввести номер карты.
3. Ввести сумму **3 111 \$**.
4. Нажать кнопку **«Перевести»**.

**Ожидаемый результат:**
Ошибка: `Недостаточно средств для перевода`. Кнопка становится неактивной.


---

### TC-004 — Проверка округления комиссии при малых суммах

**Цель:**
Проверить, что комиссия рассчитывается по формуле `floor(сумма * 0.1)`.

**Предусловия:**
Выбран рублёвый счёт. Баланс: ≥ 100 ₽.

**Тестовые данные:**

* Номер карты: `1234 5678 9090 1122`
* Сумма: `99 ₽`

**Шаги:**

1. Ввести номер карты.
2. Ввести сумму **99 ₽**.
3. Посмотреть на поле «Комиссия».

**Ожидаемый результат**:
Текст: Перевод 1 000 ₽ (+ комиссия 100 ₽) успешно отправлен.

---

### TC-005 — Проверка количества цифр в номере карты (валидация)

**Цель:**
Убедиться, что поле «Номер карты» принимает только 16 цифр и валидирует неполные или избыточные значения.

**Предусловия:**
Открыта страница перевода, выбран любой счёт (например, рублёвый), есть доступный баланс ≥ 1 000 ₽.

**Шаги (для одного примера):**

1. Ввести значение в поле «Номер карты» (например, `1234 5678 9012`).
2. Перейти к следующему полю или нажать кнопку **«Перевести»**.
3. Посмотреть на реакцию поля или формы.

**Ожидаемый результат:**

* Если введено **не 16 цифр** — появляется ошибка под полем с соответствующим текстом.
* Если введено **ровно 16 цифр** — поле считается валидным, кнопка активна.


---

