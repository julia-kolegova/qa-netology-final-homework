### TC-011 — Перевод **точно** всего доступного остатка (баланс − резерв)

**Цель:**
Убедиться, что система разрешает перевод суммы, которая вместе с комиссией ровно равна доступному остатку.

**Предусловия:**
Рублёвый счёт.
Баланс = 1 100 ₽, резерв = 0 ₽ → доступно = 1 100 ₽.

**Тестовые данные:**

| Поле           | Значение | Комментарий           |
| -------------- | -------- | --------------------- |
| Сумма перевода | 1 000 ₽  | Комиссия 10 % = 100 ₽ |

**Шаги:**

1. Ввести номер карты.
2. Ввести сумму **1 000 ₽**.
3. Нажать **«Перевести»**.

**Ожидаемый результат:**

* Операция проходит успешно.
* Баланс становится **0 ₽**, резерв не изменяется.
* Сообщение: «Перевод 1 000 ₽ (+ комиссия 100 ₽) успешно отправлен».

---

### TC-012 — Ввод суммы с десятичной дробью и запятой

**Цель:**
Проверить, что приложение корректно обрабатывает дробные значения, введённые через запятую.

**Предусловия:**
Рублёвый счёт, баланс ≥ 10 000 ₽.

**Тестовые данные:**

* Сумма: **1 234,56 ₽** (две цифры после запятой).

**Шаги:**

1. Ввести номер карты.
2. Ввести сумму **1 234,56** (с запятой).
3. Нажать **«Перевести»**.

**Ожидаемый результат:**

* Сумма конвертируется в числовой формат `1234.56`.
* Комиссия = ** 123 ₽**.
* Перевод выполняется, значения округляются до 2 знаков.

---

### TC-013 — Ввод суммы с пробелом-разделителем тысяч

**Цель:**
Проверить, что приложение принимает сумму, введённую в формате «1 000» с пробелом.

**Предусловия:**
Рублёвый счёт, баланс ≥ 10 000 ₽.

**Тестовые данные:**

* Сумма: **1 000** (ввод «1 000» с пробелом).

**Шаги:**

1. Ввести номер карты.
2. Ввести сумму `1 000` (с пробелом).
3. Перейти в следующее поле.

**Ожидаемый результат:**

* Поле очищает разделитель, показывая `1000`.
* Комиссия = `100 ₽`.
* Кнопка **«Перевести»** активна, ошибка не отображается.

---

### TC-014 — Ввод суммы с более чем двумя знаками после запятой

**Цель:**
Убедиться, что приложение блокирует суммы с точностью > 2 знаков (например, копейки × 0,1).

**Предусловия:**
Рублёвый счёт, баланс ≥ 10 000 ₽.

**Тестовые данные:**

* Сумма: **1234,567 ₽**

**Шаги:**

1. Ввести номер карты.
2. Ввести сумму `1234,567`.
3. Перейти в следующее поле или нажать **«Перевести»**.

**Ожидаемый результат:**

* Под полем появляется ошибка: «Максимум два знака после запятой».
* Кнопка **неактивна** до исправления значения.
---

### **TC-015 — Передача баланса с запятой вместо точки**

**Цель:** Проверить, как система обрабатывает баланс, переданный с использованием запятой в качестве десятичного разделителя.

---

**Предусловия:**

* Приложение получает баланс из URL-параметра, http://localhost:8000/?balance=300,5&reserved=20
* Поддержка локализации или парсинга чисел из строки реализована.
* Открыта страница перевода на карту.

---

**Тестовые данные:**

| URL-параметр         | Ожидаемый баланс | Комментарий                                |
| -------------------- | ---------------- | ------------------------------------------ |
| `balance=1000,50`    | 1000.50 ₽        | Запятая как десятичный разделитель (RU/FR) |
| `balance=1000.50`    | 1000.50 ₽        | Стандартный формат (EN)                    |



---

**Шаги:**

1. Открыть приложение по ссылке, передав `balance=1000,50` в URL.
2. Убедиться, что баланс в интерфейсе отображается корректно.
3. Повторить шаги с остальными значениями из таблицы.
4. Попробовать выполнить перевод, убедившись, что операция основывается на реальном балансе.

---

**Ожидаемый результат:**

* Система правильно интерпретирует запятую как десятичный разделитель **в локализованных версиях (например, ru-RU)**.
* Баланс отображается как `1000.50 ₽`.
* Валидация и логика расчета комиссии работают корректно.
* Некорректные значения (например, `balance=,50`) вызывают безопасную ошибку (например, дефолт 0 ₽ или сообщение об ошибке).
* Приложение не падает и не допускает уязвимостей, связанных с парсингом строки.

---

